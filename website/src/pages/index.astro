---
import Layout from "layouts/Base.astro";
import { Icon } from "astro-icon/components";
import { getImage } from "astro:assets";
import sizifImg from "assets/sizif.jpg";

const sizif = await getImage({ src: sizifImg, quality: 16 });
---

<style define:vars={{ bg: `url(${sizif.src})` }}>
    @media only screen and (min-width: 1024px) {
        main {
            background: var(--bg) no-repeat right bottom / 37%;
            padding-right: 0;
        }
    }

    @media only screen and (min-width: 1660px) {
        main {
            background-size: contain;
        }
    }
</style>
<Layout
    titleTemplate="af-utils | %s"
    title="Simple open-source tools that just work"
    description="Simple and powerful tools that solve everyday problems (virtual scroll, scrollend polyfill, etc.) written in typescript"
>
    <link
        slot="head"
        rel="preload"
        href={sizif.src}
        as="image"
        media="only screen and (min-width: 1024px)"
    />
    <div class="prose flex h-screen w-screen flex-col bg-[#fafafa]">
        <header
            class="prose-lg prose-a:no-underline mx-[5vmin] flex justify-center gap-8 border-b p-6"
        >
            <a
                href={`https://github.com/${import.meta.env.PUBLIC_GITHUB_SUFFIX}`}
                target="_blank"
                rel="noopener"
                class="flex items-center gap-2 hover:underline"
            >
                <Icon name="simple-icons:github" />Github
            </a>
            <a
                href={import.meta.env.PUBLIC_DISCORD_LINK}
                target="_blank"
                rel="noopener"
                class="flex items-center gap-2 hover:underline"
            >
                <Icon name="simple-icons:discord" />Discord
            </a>
        </header>
        <main class="prose-xl prose-a:text-blue-700 flex-auto px-[5vmin] py-12">
            <h1>af-utils/*</h1>
            <p>Simple open-source tools that just work <i>(usually fast)</i></p>
            <ul>
                <li>
                    <a href="/virtual">Virtual scroll</a> for rendering only visible
                    part of huge lists or grids
                    <i>(currently available for React)</i>
                </li>
                <li>
                    <a href="/scrollend-polyfill">Scrollend polyfill</a> for cross-browser
                    scrollend event support
                </li>
                <li>To be continued...</li>
            </ul>
        </main>
        <footer class="mx-[5vmin] border-t p-6 text-center">
            Â© {new Date().getFullYear()} Alex Fomin
        </footer>
    </div>
</Layout>
