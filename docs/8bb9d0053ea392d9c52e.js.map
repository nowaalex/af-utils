{"version":3,"sources":["webpack://af-virtual-scroll/./src/components/List/index.js","webpack://af-virtual-scroll/./src/components/common/Rows/style.module.scss?bf14","webpack://af-virtual-scroll/./src/components/common/Rows/index.js","webpack://af-virtual-scroll/./src/examples/list/variableRowHeights/index.js"],"names":["List","children","props","model","memo","Events","START_INDEX","END_INDEX","spacerKey","Math","random","toString","Spacer","rest","useSubscription","startIndex","endIndex","virtualTopOffset","setSpacerNode","result","className","css","aria-hidden","style","height","ref","i","push","StyledList","styled","StyledRow","DEFAULT_ROW_COUNT","dynamicListRowHeights","useState","times","r","estimatedRowHeight","rowsQuantity","lineHeight","background"],"mappings":";gOAMMA,EAAO,QAAC,SAAEC,GAAH,EAAgBC,GAAhB,mBACT,SAAC,IAAD,iBAAeA,EAAf,UACKC,IAAS,SAAC,IAAD,CAAMA,MAAOA,EAAb,SAAqBF,QAYvC,GAAeG,UAAMJ,I,mFCnBrB,SAAgB,OAAS,2B,qDCGnBK,EAAS,CAAEC,KAAaC,MAExBC,EAAYC,KAAKC,SAASC,SAAS,IAyBzC,EAvBa,QAAC,MAAER,EAAF,SAASF,EAAT,OAAmBW,EAAS,OAA7B,EAAuCC,GAAvC,mBAAkDC,OAC3DX,GACA,EAAGY,aAAYC,WAAUC,mBAAkBC,oBAEvC,MAAMC,EAAS,EACX,SAACP,EAAD,CAEIQ,UAAWC,UACXC,cAAY,OACZC,MAAO,CAAEC,OAAQP,GACjBQ,IAAKP,GAJAV,IAQb,IAAK,IAAIkB,EAAIX,EAAYW,EAAIV,EAAUU,IACnCP,EAAOQ,KAAK1B,EAAUyB,EAAGb,IAG7B,OAAOM,IAEXd,K,kJCtBJ,MAAMuB,GAAaC,QAAO7B,IAAM;;;;EAM1B8B,EAAYD,QAAW;;;;EAMvBE,EAAoB,IAuB1B,EArByB,KAErB,MAAQC,IAA0BC,eAAS,IAAMC,IAAOH,GAAmB,IAAMI,IAAG,GAAI,SAExF,OACI,SAACP,EAAD,CACIQ,mBAAoB,GACpBC,aAAcN,EAFlB,SAIKL,IACG,UAACI,EAAD,CAAmBP,MAAO,CACtBe,WAAa,GAAEN,EAAsBN,OACrCa,WAAa,OAAQ,GAAFb,EAAK,gBAF5B,iBAISA,EAJT,KAImBM,EAAsBN,GAJzC,OAAgBA","file":"8bb9d0053ea392d9c52e.js","sourcesContent":["import { memo } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Rows from \"../common/Rows\";\r\nimport Container from \"../common/Container\";\r\n\r\nconst List = ({ children, ...props }) => (\r\n    <Container {...props}>\r\n        {model => <Rows model={model}>{children}</Rows>}\r\n    </Container>\r\n);\r\n\r\nList.propTypes = {\r\n    /**\r\n     * @param {number} rowIndex\r\n     * @returns {any} one row element child. Fragments are not supported.\r\n     */\r\n    children: PropTypes.func.isRequired\r\n}\r\n\r\nexport default memo( List );","// extracted by mini-css-extract-plugin\nexport default {\"spacer\":\"_2q9_Y-5hrbxfXeVDNj4Bxk\"};","import useSubscription from \"hooks/useSubscription\";\r\nimport { START_INDEX, END_INDEX } from \"constants/events\";\r\nimport css from \"./style.module.scss\";\r\n\r\nconst Events = [ START_INDEX, END_INDEX ];\r\n\r\nconst spacerKey = Math.random().toString(36);\r\n\r\nconst Rows = ({ model, children, Spacer = \"div\", ...rest }) => useSubscription(\r\n    model, \r\n    ({ startIndex, endIndex, virtualTopOffset, setSpacerNode }) => {\r\n\r\n        const result = [\r\n            <Spacer\r\n                key={spacerKey}\r\n                className={css.wrapper}\r\n                aria-hidden=\"true\"\r\n                style={{ height: virtualTopOffset}}\r\n                ref={setSpacerNode}\r\n            />\r\n        ];    \r\n        \r\n        for( let i = startIndex; i < endIndex; i++ ){\r\n            result.push(children( i, rest ));\r\n        }\r\n\r\n        return result;\r\n    },\r\n    Events\r\n);\r\n\r\nexport default Rows;","import { useState } from \"react\";\nimport { List } from \"af-virtual-scroll\";\nimport styled from \"styled-components\";\nimport times from \"lodash/times\";\nimport r from \"lodash/random\";\n\nconst StyledList = styled(List)`\n    flex: 1 1 20em;\n    min-width: 12em;\n    max-width: 36em;\n`;\n\nconst StyledRow = styled.div`\n    border-top: 1px solid #666;\n    color: #000;\n    text-align: center;\n`;\n\nconst DEFAULT_ROW_COUNT = 200000;\n\nconst VariableSizeList = () => {\n\n    const [ dynamicListRowHeights ] = useState(() => times( DEFAULT_ROW_COUNT, () => r( 50, 100 ) ));\n\n    return (\n        <StyledList\n            estimatedRowHeight={75}\n            rowsQuantity={DEFAULT_ROW_COUNT}\n        >\n            {i => (\n                <StyledRow key={i} style={{\n                    lineHeight: `${dynamicListRowHeights[i]}px`,\n                    background: `hsl(${i*11%360},60%,60%)`\n                }}>\n                    row {i}:&nbsp;{dynamicListRowHeights[i]}px\n                </StyledRow>\n            )}\n        </StyledList>\n    );\n}\n\nexport default VariableSizeList;"],"sourceRoot":""}